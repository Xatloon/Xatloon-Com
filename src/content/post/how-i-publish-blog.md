---
tags:
  - post
  - 'ğŸ§‘â€ğŸ’»Coding'
title: æˆ‘æ˜¯å¦‚ä½•å¼€å§‹å‘è¡¨åšå®¢çš„
sources:
  - xlog
summary: |-
  Prologue Lofter

  åœ¨ 2014 å¹´ï¼Œæˆ‘åœ¨ Lofter å¼€å§‹äº†ä¸€æ®µæ—¶é—´çš„åšå®¢å†™ä½œç”Ÿæ´»ï¼Œä¹Ÿæˆä¸ºäº†ä¸Šé¢çš„é¦–æ‰¹ç”¨æˆ·ã€‚

  æœ‰å¹¸è¢« Wayback Manchine æ”¶å½•äº†ä¸€å¼ å¿«ç…§ã€‚

  é‚£æ—¶åˆšæ¥è§¦ Androidï¼Œä¹Ÿå°±æ˜¯æˆ‘äººç”Ÿçš„ç¬¬ä¸€å°å±äºè‡ªå·±çš„å®‰å“æ‰‹æœºâ€”â€”ã€Œä¸­å…´ U793â€¦
attributes:
  - value: how-i-publish-blog
    trait_type: xlog_slug
external_urls:
  - https://i.xiangnorth.com/how-i-publish-blog
date_published: 2019-03-03T23:48:00.000Z
---

# æˆ‘æ˜¯å¦‚ä½•å¼€å§‹å‘è¡¨åšå®¢çš„

## Prologue

### Lofter

åœ¨ 2014 å¹´ï¼Œæˆ‘åœ¨ [Lofter](https://lofter.com/) å¼€å§‹äº†ä¸€æ®µæ—¶é—´çš„åšå®¢å†™ä½œç”Ÿæ´»ï¼Œä¹Ÿæˆä¸ºäº†ä¸Šé¢çš„é¦–æ‰¹ç”¨æˆ·ã€‚

![Lofter](./how-i-publish-blog/lofter.png)

æœ‰å¹¸è¢« [Wayback Manchine](https://web.archive.org/web/20190315110511/http://yishuabear.lofter.com/) æ”¶å½•äº†ä¸€å¼ å¿«ç…§ã€‚

é‚£æ—¶åˆšæ¥è§¦ Androidï¼Œä¹Ÿå°±æ˜¯æˆ‘äººç”Ÿçš„**ç¬¬ä¸€å°å±äºè‡ªå·±çš„å®‰å“æ‰‹æœº**â€”â€”ã€Œä¸­å…´ U793ã€ã€‚åœ¨ç ”ç©¶åˆ·æœºï¼Œå­¦ä¹  ROM åˆ¶ä½œçš„æ—¶å€™ï¼Œæˆ‘å‘ç°äº† [XDA Developers](https://xda-developers.com/)ã€‚

äºæ˜¯å‡ºäºå…´è¶£å¼€å§‹é™†ç»­æ¬è¿ä¸Šé¢çš„ç›¸å…³æ–‡ç« ã€‚

### WordPress

![WordPress](./how-i-publish-blog/wordpress.png)

å¤§åé¼é¼çš„ [WordPress](https://wordpress.com/)ï¼Œæ˜¯æˆ‘**ç¬¬ä¸€ä¸ª**ä¸ªäººç½‘ç«™çš„æ¡†æ¶ã€‚

ä¸€å¥é¢˜å¤–è¯ï¼Œä¾ç¨€è®°å¾—å½“åˆ WordPress ä¸­æ–‡å®˜ç½‘è¢«å¢™ï¼Œè‹±æ–‡å®˜ç½‘èƒ½è®¿é—®çš„é­”å¹»ç°å®ã€‚

ç”±äºå½“æ—¶ç»æµèƒ½åŠ›é™åˆ¶ï¼Œæˆ‘æ›¾è¾—è½¬ [Hostinger](https://www.hostinger.com/)ï¼Œ[000webhost](https://www.000webhost.com/)ï¼Œä»¥åŠå›½å†…å„ç§æ‚ä¸ƒæ‚å…«çš„å…è´¹ç©ºé—´ï¼ˆä»€ä¹ˆã€Œå½©è™¹äº‘ã€ã€ã€Œä¸ƒæœµäº‘ã€ã€ã€Œåƒäº‘ã€ç­‰ç­‰ï¼‰ï¼Œå½“ç„¶è¿™ä¹Ÿç›´æ¥å¯¼è‡´äº†æˆ‘ä¼—å¤šå¯†ç çš„æ³„éœ²ï¼Œå¯¼è‡´ç°åœ¨ç¤¾å·¥åº“é‡Œèƒ½æœ‰ä¸€è¿ä¸²å¯†ç 

æˆ‘ä¹ŸåŒæ—¶ä» [freenom](https://freenom.com/) æ³¨å†Œäº†~~ä¸æ­¢~~ä¸€ä¸ªå…è´¹åŸŸåã€‚é€”ä¸­æ³¨å†Œçš„æ³¢æŠ˜ä¹Ÿæ˜¯æˆ‘æ¥è§¦åˆ°ã€Œç§‘å­¦ä¸Šç½‘ã€çš„èµ·æºï¼Œè‡³ä»Šä»è®°å¾—å½“æ—¶å‡Œæ™¨åœ¨ç½‘å§ï¼Œæ­»æ´»åŠ è½½ä¸å‡º CAPTCHA çš„ç—›è‹¦ã€‚

åœ¨ç½‘ç«™æ­å»ºä¸­ï¼Œæˆ‘ä¹Ÿå¼€å§‹æ¥è§¦åˆ° `PHP` `CSS` `MySQL`ç­‰äº‹ç‰©ï¼Œä¹Ÿæ˜¯è¢«å½“æ—¶ [DIYgod](https://github.com/DIYgod) çš„ WordPress ä¸»é¢˜ Amativeness æ‰€å¸å¼•ï¼Œè®©æˆ‘é€æ¸åœ¨åç»­çš„æ—¶é—´å¼€å§‹äº†å­¦ä¹ ï¼Œè¿™äº›åœ¨[ã€Œåä¸ºã€Hexo-Theme-Anyaã€çš„æ•…äº‹ã€](/the-story-of-anya)ä¸€æ–‡ä¸­æœ‰è¯¦ç»†æè¿°ï¼Œæ­¤å¤„ä¸ä½œèµ˜è¿°ã€‚

### Hexo

![W0LtZ0](./how-i-publish-blog/w0ltz0.png)

æœ€åå½’å®¿æ¥åˆ°äº† [Hexo](https://hexo.io/)ï¼Œæ˜¯ä¸€ä¸ªéå¸¸ã€Œç®€å•ã€çš„åšå®¢æ¡†æ¶ã€‚

æ¥è§¦åˆ° Hexo æ˜¯å› ä¸ºæ¥è§¦åˆ°äº† GitHubï¼Œä¸ WordPress ä½œä¸ºåŠ¨æ€ç½‘ç«™ï¼Œéœ€è¦ä¸€ç³»åˆ—åç«¯æ”¯æ’‘ä¸åŒï¼Œé™æ€ç½‘ç«™èƒ½å¤Ÿä¸ç”¨èŠ±è´¹é‚£ä¹ˆå¤šå¿ƒæ€å°±èƒ½å°†åšå®¢ç¨³å®šæ­å»ºåˆ° GitHub Pagesï¼ŒVercel ç­‰é™æ€ç«™ç‚¹æ‰˜ç®¡å¹³å°ç”šè‡³æ˜¯é™æ€èµ„æºåŠ é€Ÿ CDN ä¸Šï¼Œè®©æˆ‘è½»æ¾äº†ä¸å°‘ã€‚

**æœ¬ç¯‡æ–‡ç« å†™ä½œæ—¶**ï¼Œåšå®¢ä¾¿æ˜¯æ­å»ºåœ¨åœ¨ Hexo ä¸Šã€‚

## Main

æˆ‘çš„åšå®¢æ˜¯ä¸€ä¸ªé™æ€ç½‘ç«™ï¼Œ**æ²¡æœ‰åŠ¨æ€ï¼Œæ²¡æœ‰ APIï¼Œæ²¡æœ‰ç®¡ç†åå°ï¼Œæ²¡æœ‰ä»»ä½•çš„åŠ¨æ€æ›´æ–°**ï¼Œåªæœ‰ä¸€ä¸ªé™æ€é¡µé¢ã€‚

å¥¹ç”± Hexo é©±åŠ¨ï¼Œæ ·å¼ç”± [Inside](https://github.com/ikeq/hexo-theme-inside) æä¾›ï¼Œéƒ¨ç½²äº [Vercel](https://vercel.com/) å¹³å°ï¼Œéƒ¨åˆ†é™æ€æ–‡ä»¶ç”± [jsDelivr](https://www.jsdelivr.com/) æä¾› CDN åŠ é€Ÿã€‚

### CI/CD

> åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼ŒCI/CD æˆ– CICD é€šå¸¸æŒ‡çš„æ˜¯æŒç»­é›†æˆå’ŒæŒç»­äº¤ä»˜æˆ–æŒç»­éƒ¨ç½²çš„ç»„åˆå®è·µã€‚CI/CD é€šè¿‡åœ¨åº”ç”¨ç¨‹åºçš„æ„å»ºã€æµ‹è¯•å’Œéƒ¨ç½²ä¸­å®æ–½è‡ªåŠ¨åŒ–ï¼Œåœ¨å¼€å‘å’Œè¿è¥å›¢é˜Ÿä¹‹é—´æ¶èµ·äº†æ¡¥æ¢ã€‚

åœ¨è¿™é‡Œï¼Œä¸»è¦æ˜¯ä»‹ç» [GitHub Actions](https://github.com/features/actions) åœ¨éƒ¨ç½²æˆ‘çš„åšå®¢ä¸­çš„ä½¿ç”¨ï¼Œ**ä¸ä¼š**æ¶‰åŠ Hexo æ€ä¹ˆé…ç½®ï¼Œæ€ä¹ˆä¸Šä¼ åˆ°ã€‚

```yaml
name: Blog CI/CD

on: [push, repository_dispatch]

jobs:
blog-cicd:
name: Hexo blog build & deploy
runs-on: ubuntu-latest
env:
TZ: Asia/Shanghai
steps: - name: Checkout codes
uses: actions/checkout@v2

      - name: Setup node
        uses: actions/setup-node@v1
        with:
          node-version: "16.x"
      - name: Cache node modules
        uses: actions/cache@v1
        with:
          path: ~/.npm
          key: ${{ runner.os }}`-node-${{ hashFiles('**/package-lock.json') }}

      - name: Install dependencies
        run: |
          npm install hexo-cli -g
          npm install
      - name: Generate files
        run: hexo generate

      - name: Deploy blog
        run: |
          git clone -b blog "https://${{ secrets.GH_REF }}" deploy_git
          mv ./deploy_git/.git ./public/
          cd ./public
          git config user.name "XiangNorth"
          git config user.email "i@xiangnorth.com"
          git add .
          git commit -m "GitHub Actions Auto Builder at $(date +'%Y-%m-%d %H:%M:%S')"
          git push --force --quiet "https://XiangNorth:${{ secrets.GITHUB_TOKEN }}@${{ secrets.GH_REF }}" blog:blog
```

ä¸ºäº†æ–¹ä¾¿å¹¶ã€Œä¼˜é›…ã€åœ°éƒ¨ç½²ï¼Œæˆ‘ä½¿ç”¨äº† `secrets.GITHUB_TOKEN` æ¥ä»£æ›¿ GitHub çš„ API Tokenï¼Œä½ å¯ä»¥åœ¨ [è¿™ç¯‡æ–‡æ¡£](https://docs.github.com/en/actions/security-guides/automatic-token-authentication) äº†è§£æ›´å¤šã€‚

åŸç†æ˜¯å°±æ˜¯ç®€å•çš„ï¼Œå½“ã€Œpushã€ï¼Œæˆ–è€…æ‰‹åŠ¨è§¦å‘â€”â€”å³ã€Œdispatchã€â€”â€”æ—¶ï¼Œå°±ä¼šè§¦å‘è¿™ä¸ª CI/CD è¿›ç¨‹ï¼š

- æ£€æŸ¥å¹¶é…ç½®ç¯å¢ƒ
- è¿è¡Œ `hexo generate`
- å°†ç”Ÿæˆçš„ `public` ç›®å½•é€šè¿‡è‡ªåŠ¨ç”Ÿæˆçš„ `secrets.GITHUB_TOKEN` push åˆ° `blog` åˆ†æ”¯
- è¿™æ—¶ Vercel å°±ä¼šç›‘å¬åˆ°å¹¶è‡ªåŠ¨å°†è¯¥åˆ†æ”¯æœ€æ–°å†…å®¹è¿›è¡Œéƒ¨ç½²

### Editing

### Words

![VS Code](./how-i-publish-blog/vs_code.png)

å¾—ç›Šäº VS Code å¼ºå¤§çš„æ‹“å±•æ€§ï¼Œæˆ‘å¯ä»¥è½»æ¾åœ°åœ¨å…¶ä¸­è¿›è¡Œ Markdown çš„å†™ä½œçš„åŒæ—¶è¿›è¡Œé¢„è§ˆã€‚

æ›´æœ‰ã€Œmarkdownlintã€ã€ã€ŒGitHub Copilotã€ç­‰æ’ä»¶å¸®åŠ©æˆ‘å†™å‡ºæ›´å¥½çš„é£æ ¼~~ä»¥ç¼“è§£å¼ºè¿«ç—‡~~ï¼Œæˆ–æ˜¯è‡ªåŠ¨è”æƒ³å‡ºå„ç§è¯æ¡ã€‚

### Images

æˆ‘çš„åšå®¢æ–‡ç« å›¾ç‰‡çš„è§£å†³æ–¹æ¡ˆæ˜¯ã€ŒGitHubã€+ã€ŒjsDelivr CDNã€ï¼Œå³å°†å›¾ç‰‡ä¸Šä¼ è‡³æˆ‘çš„å›¾ç‰‡ä¸“ç”¨ä»“åº“ï¼Œç„¶åé€šè¿‡ jsDelivr CDN åŠ è½½ã€‚

![uPic](./how-i-publish-blog/upic.png)

æˆ‘ä½¿ç”¨çš„ä¸Šä¼ å·¥å…·ä¸ºã€ŒuPicã€, å®ƒæ˜¯ä¸€æ¬¾å¼€æºçš„ macOS è½¯ä»¶ï¼Œä½ å¯ä»¥å»ä»–çš„ [GitHub ä¸»é¡µ](https://github.com/gee1k/uPic) å¼€å§‹ä½¿ç”¨æˆ–æ”¯æŒå¼€å‘è€…ã€‚

### Inspiration

å¦‚ä½•è·å–å†™ä½œçµæ„Ÿï¼Œæˆ‘ä½¿ç”¨äº†ä¸¤ç§æ–¹å¼ï¼š

- é€šè¿‡ä¸æ–­ç»å†è·å¾—æ„Ÿæ‚Ÿï¼ˆå­¦ä¹ ã€ç”Ÿæ´»ã€å·¥ä½œï¼‰
- é€šè¿‡é˜…è¯»æ›´å¤šçš„**åŸåˆ›æ–‡ç« **ï¼Œå¸æ”¶å…¶ä¸­çš„èƒ½é‡

å…³äºé˜…è¯»åŸåˆ›æ–‡ç« ï¼Œæˆ‘æ›´å¤šæ˜¯é€šè¿‡ RSS è®¢é˜…[ã€Œä¸­æ–‡ç‹¬ç«‹åšå®¢åˆ—è¡¨ã€](https://github.com/timqian/chinese-independent-blogs)è¿›è¡Œå……èƒ½ï¼Œå¦‚æœæ‚¨æœ‰å…´è¶£ä¹Ÿå¯ä»¥å‚è€ƒä¸€ä»½ï¼Œä¹Ÿæ¬¢è¿è®¢é˜… [æœ¬ç«™çš„ RSS](https://xiangnorth.com/atom.xml)ã€‚

ä¹Ÿæ¬¢è¿å¤§å®¶åœ¨è¿™ä¸ªè¢«å„ç§ç®—æ³•æ¨èæµå……æ–¥çš„æ—¶ä»£ï¼Œå°è¯• RSS è¿™ä¸ªç¨æ˜¾ã€Œè½åã€çš„é˜…è¯»æ–¹å¼ã€‚

## Epilogue

æœ€è¿‘æ­£åœ¨å­¦ä¹  Reactï¼Œé‡æ„åšå®¢çš„æƒ³æ³•ä¹Ÿéšç€å†æ¬¡å†’äº†å‡ºæ¥ã€‚

åœ¨å¹³æ—¶çš„é˜…è¯»ä¸­ä¹Ÿè§è¿‡å¾ˆå¤šå¤§ä½¬æˆ–æ¼‚äº®æˆ–ä¼˜é›…çš„é¡µé¢ï¼Œå¦‚[ã€ŒTobias Ahlinã€](https://tobiasahlin.com/blog/)å’Œ[ã€ŒJosh W Comeauã€](https://www.joshwcomeau.com/)ã€‚

![Tobias Ahlin](./how-i-publish-blog/tobias_ahlin.png)

![Josh W Comeau](./how-i-publish-blog/josh_w_comeau.png)

æ€»ä¹‹å²æœˆé™å¥½ï¼Œè¿˜æœ‰å¾ˆå¤šæ—¶é—´ï¼Œæˆ‘ä»¬æ…¢æ…¢æ¥ã€‚
